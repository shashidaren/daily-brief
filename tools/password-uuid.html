<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Password / UUID Generator</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="site-header">
    <h1>Password / UUID Generator</h1>
    <nav class="nav"><a href="index.html">‚Üê Tools</a></nav>
  </header>
  <main class="section">
    <div class="row">
      <div class="col">
        <label>Length</label>
        <input id="len" type="number" min="8" max="128" value="16" />
        <label><input type="checkbox" id="lc" checked/> Lowercase</label>
        <label><input type="checkbox" id="uc" checked/> Uppercase</label>
        <label><input type="checkbox" id="dg" checked/> Digits</label>
        <label><input type="checkbox" id="sc" checked/> Symbols</label>
        <div class="row"><button id="gen">Generate Password</button></div>
        <label>Password</label>
        <input id="out" type="text" readonly />
        <div class="row"><button id="copy">Copy</button></div>
      </div>
      <div class="col">
        <label>UUID v4</label>
        <input id="uuid" type="text" readonly />
        <div class="row"><button id="genUUID">Generate UUID</button></div>
      </div>
    </div>
  </main>
  <script>
    function randChar(pool){ return pool[Math.floor(Math.random()*pool.length)]; }
    function generate(){
      const L = Math.max(8, Math.min(128, Number(document.getElementById('len').value)||16));
      let pool = '';
      if (lc.checked) pool += 'abcdefghijklmnopqrstuvwxyz';
      if (uc.checked) pool += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      if (dg.checked) pool += '0123456789';
      if (sc.checked) pool += '!@#$%^&*()-_=+[]{};:,.?/';
      if (!pool) { out.value = ''; return; }
      // Use crypto if available
      const arr = new Uint32Array(L);
      (window.crypto||window.msCrypto).getRandomValues(arr);
      out.value = Array.from(arr, n => pool[n % pool.length]).join('');
    }
    function uuidv4(){
      const bytes = new Uint8Array(16);
      (window.crypto||window.msCrypto).getRandomValues(bytes);
      bytes[6] = (bytes[6] & 0x0f) | 0x40; // version
      bytes[8] = (bytes[8] & 0x3f) | 0x80; // variant
      const hex = [...bytes].map(b=>b.toString(16).padStart(2,'0'));
      return [
        hex.slice(0,4).join(''),
        hex.slice(4,6).join(''),
        hex.slice(6,8).join(''),
        hex.slice(8,10).join(''),
        hex.slice(10,16).join('')
      ].join('-');
    }
    const lc = document.getElementById('lc');
    const uc = document.getElementById('uc');
    const dg = document.getElementById('dg');
    const sc = document.getElementById('sc');
    const out = document.getElementById('out');
    document.getElementById('gen').onclick = generate;
    document.getElementById('copy').onclick = ()=> navigator.clipboard.writeText(out.value||'');
    document.getElementById('genUUID').onclick = ()=> document.getElementById('uuid').value = uuidv4();
    // initial
    document.getElementById('uuid').value = uuidv4();
    generate();
  </script>
</body>
</html>
